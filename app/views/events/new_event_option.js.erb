(() => {
    let nestedForms = document.querySelector("#event-option-nested-forms");
new Promise((resolve, reject) => {
    nestedForms.insertAdjacentHTML("beforeend",
        "<%= j render partial: 'events/event_option_form', locals: {event_option: @event_option } %>")
    resolve();
}).then(() => {

    let btns = nestedForms.querySelectorAll(".remove-event-option-btn-otf");
let btn = Array.prototype.slice.call(btns).pop();
btn.addEventListener("click", ev => {
    let parent = ev.target.closest(".new-event-event-option-otf");
nestedForms.removeChild(parent);
ev.preventDefault();
})
}).catch(() => {
    console.log("Error registering event handler for button.");
})
})()
